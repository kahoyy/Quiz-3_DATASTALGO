{"ast":null,"code":"import axios from 'axios';\nimport * as types from './actionTypes';\nconst API_URL = 'http://localhost:8000/api';\n\n// Auth Actions\nexport const login = (username, password) => dispatch => {\n  dispatch({\n    type: types.LOGIN_REQUEST\n  });\n  return axios.post(`${API_URL}/token/`, {\n    username,\n    password\n  }).then(response => {\n    const {\n      access,\n      refresh\n    } = response.data;\n    localStorage.setItem('access_token', access);\n    localStorage.setItem('refresh_token', refresh);\n    dispatch({\n      type: types.LOGIN_SUCCESS,\n      payload: {\n        access,\n        refresh\n      }\n    });\n    return response.data;\n  }).catch(error => {\n    var _error$response;\n    dispatch({\n      type: types.LOGIN_FAILURE,\n      payload: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || 'Login failed'\n    });\n    throw error;\n  });\n};\nexport const logout = () => dispatch => {\n  localStorage.removeItem('access_token');\n  localStorage.removeItem('refresh_token');\n  dispatch({\n    type: types.LOGOUT\n  });\n};\nexport const refreshToken = () => (dispatch, getState) => {\n  dispatch({\n    type: types.REFRESH_TOKEN_REQUEST\n  });\n  const refresh = localStorage.getItem('refresh_token');\n  return axios.post(`${API_URL}/token/refresh/`, {\n    refresh\n  }).then(response => {\n    const {\n      access\n    } = response.data;\n    localStorage.setItem('access_token', access);\n    dispatch({\n      type: types.REFRESH_TOKEN_SUCCESS,\n      payload: access\n    });\n    return access;\n  }).catch(error => {\n    var _error$response2;\n    dispatch({\n      type: types.REFRESH_TOKEN_FAILURE,\n      payload: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || 'Token refresh failed'\n    });\n    dispatch(logout());\n    throw error;\n  });\n};\n\n// Data Actions\nexport const fetchHelloWorld = () => dispatch => {\n  dispatch({\n    type: types.FETCH_DATA_REQUEST\n  });\n  const token = localStorage.getItem('access_token');\n  return axios.get(`${API_URL}/hello/`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: types.FETCH_DATA_SUCCESS,\n      payload: response.data\n    });\n    return response.data;\n  }).catch(error => {\n    var _error$response3;\n    dispatch({\n      type: types.FETCH_DATA_FAILURE,\n      payload: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || 'Failed to fetch data'\n    });\n    throw error;\n  });\n};","map":{"version":3,"names":["axios","types","API_URL","login","username","password","dispatch","type","LOGIN_REQUEST","post","then","response","access","refresh","data","localStorage","setItem","LOGIN_SUCCESS","payload","catch","error","_error$response","LOGIN_FAILURE","logout","removeItem","LOGOUT","refreshToken","getState","REFRESH_TOKEN_REQUEST","getItem","REFRESH_TOKEN_SUCCESS","_error$response2","REFRESH_TOKEN_FAILURE","fetchHelloWorld","FETCH_DATA_REQUEST","token","get","headers","Authorization","FETCH_DATA_SUCCESS","_error$response3","FETCH_DATA_FAILURE"],"sources":["C:/Users/Drei/Project Folder/frontend/src/redux/actions.js"],"sourcesContent":["import axios from 'axios';\r\nimport * as types from './actionTypes';\r\n\r\nconst API_URL = 'http://localhost:8000/api';\r\n\r\n// Auth Actions\r\nexport const login = (username, password) => (dispatch) => {\r\n  dispatch({ type: types.LOGIN_REQUEST });\r\n\r\n  return axios\r\n    .post(`${API_URL}/token/`, { username, password })\r\n    .then((response) => {\r\n      const { access, refresh } = response.data;\r\n      localStorage.setItem('access_token', access);\r\n      localStorage.setItem('refresh_token', refresh);\r\n      \r\n      dispatch({\r\n        type: types.LOGIN_SUCCESS,\r\n        payload: { access, refresh },\r\n      });\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: types.LOGIN_FAILURE,\r\n        payload: error.response?.data || 'Login failed',\r\n      });\r\n      throw error;\r\n    });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem('access_token');\r\n  localStorage.removeItem('refresh_token');\r\n  dispatch({ type: types.LOGOUT });\r\n};\r\n\r\nexport const refreshToken = () => (dispatch, getState) => {\r\n  dispatch({ type: types.REFRESH_TOKEN_REQUEST });\r\n\r\n  const refresh = localStorage.getItem('refresh_token');\r\n\r\n  return axios\r\n    .post(`${API_URL}/token/refresh/`, { refresh })\r\n    .then((response) => {\r\n      const { access } = response.data;\r\n      localStorage.setItem('access_token', access);\r\n\r\n      dispatch({\r\n        type: types.REFRESH_TOKEN_SUCCESS,\r\n        payload: access,\r\n      });\r\n      return access;\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: types.REFRESH_TOKEN_FAILURE,\r\n        payload: error.response?.data || 'Token refresh failed',\r\n      });\r\n      dispatch(logout());\r\n      throw error;\r\n    });\r\n};\r\n\r\n// Data Actions\r\nexport const fetchHelloWorld = () => (dispatch) => {\r\n  dispatch({ type: types.FETCH_DATA_REQUEST });\r\n\r\n  const token = localStorage.getItem('access_token');\r\n\r\n  return axios\r\n    .get(`${API_URL}/hello/`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n    .then((response) => {\r\n      dispatch({\r\n        type: types.FETCH_DATA_SUCCESS,\r\n        payload: response.data,\r\n      });\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: types.FETCH_DATA_FAILURE,\r\n        payload: error.response?.data || 'Failed to fetch data',\r\n      });\r\n      throw error;\r\n    });\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}